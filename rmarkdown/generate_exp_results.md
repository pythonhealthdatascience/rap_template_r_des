Generate expected results
================
Amy Heather
2025-03-11

- [Set-up](#set-up)
- [Base case](#base-case)
- [Model with a warm-up period](#model-with-a-warm-up-period)
- [Scenario analysis](#scenario-analysis)
- [Calculate run time](#calculate-run-time)

This notebook is used to run a specific version of the model and save
each results dataframe as a csv. These are used in `test-backtest.R` to
verify that the model produces consistent results.

The `.Rmd` file is provided as it is possible that results may change
due to alterations to the model structure and operations. Once it has
been confirmed that changes are intentional and not any introduced
errors, this script can be run to regenerate the `.csv` files used in
the test.

The run time is provided at the end of this notebook.

## Set-up

Install the latest version of the local simulation package. If running
sequentially, `devtools::load_all()` is sufficient. If running in
parallel, you must use `devtools::install()`.

``` r
devtools::load_all()
```

    ## â„¹ Loading simulation

Load required packages.

``` r
# nolint start: undesirable_function_linter.
library(simulation)
# nolint end
```

Start timer.

``` r
start_time <- Sys.time()
```

Define path to expected results.

``` r
testdata_dir <- file.path("..", "tests", "testthat", "testdata")
```

## Base case

``` r
# Define model parameters
param <- parameters(
  patient_inter = 4L,
  mean_n_consult_time = 10L,
  number_of_nurses = 5L,
  warm_up_period = 0L,
  data_collection_period = 80L,
  number_of_runs = 10L,
  cores = 1L
)

# Run the replications
results <- runner(param)

# Arrivals
results[["arrivals"]]
```

    ##          name start_time  end_time activity_time resource replication
    ## 1    patient0  7.9589394  9.339626    1.38068695    nurse           1
    ## 2    patient1 14.3769521 17.082901    2.70594843    nurse           1
    ## 3    patient3 22.4236472 24.279227    1.85558001    nurse           1
    ## 4    patient2 19.9660259 32.789001   12.82297549    nurse           1
    ## 5    patient5 28.8080981 32.923921    4.11582266    nurse           1
    ## 6    patient6 30.0481444 37.857589    7.80944489    nurse           1
    ## 7    patient7 37.7589958 40.303004    2.54400845    nurse           1
    ## 8    patient4 24.9211996 47.998764   23.07756411    nurse           1
    ## 9    patient8 55.7601991 56.042774    0.28257500    nurse           1
    ## 10   patient9 59.0457963 63.631290    4.58549409    nurse           1
    ## 11  patient11 60.4037578 77.372642   16.96888456    nurse           1
    ## 12  patient12 68.0726700 77.428243    9.35557327    nurse           1
    ## 13  patient14 76.1746621 77.441124    1.26646216    nurse           1
    ## 14  patient15 76.8675542 79.413807    2.04116483    nurse           1
    ## 15  patient16 79.1100925        NA            NA    nurse           1
    ## 16  patient13 74.7111597        NA            NA    nurse           1
    ## 17  patient10 60.2681638        NA            NA    nurse           1
    ## 18   patient0  2.7503897  6.090707    3.34031709    nurse           2
    ## 19   patient1  7.0983074  8.491026    1.39271872    nurse           2
    ## 20   patient3 13.4133212 17.999218    4.58589644    nurse           2
    ## 21   patient4 14.2315794 18.423120    4.19154066    nurse           2
    ## 22   patient2 11.9945961 23.128634   11.13403788    nurse           2
    ## 23   patient8 22.2855224 25.625448    3.33992567    nurse           2
    ## 24   patient7 20.4457979 26.031790    5.58599161    nurse           2
    ## 25   patient5 15.4146091 27.728275   12.31366553    nurse           2
    ## 26   patient9 35.4358517 41.601056    6.16520407    nurse           2
    ## 27  patient10 39.5501295 47.695712    8.14558237    nurse           2
    ## 28  patient14 45.7759410 48.607171    0.91145957    nurse           2
    ## 29   patient6 18.0744530 48.868737   30.79428401    nurse           2
    ## 30  patient12 44.6771499 49.640635    4.96348476    nurse           2
    ## 31  patient15 55.9559766 56.329783    0.37380675    nurse           2
    ## 32  patient13 45.4516143 63.170758   17.71914360    nurse           2
    ## 33  patient16 61.9216498 66.443364    4.52171424    nurse           2
    ## 34  patient11 42.6616292 74.500675   31.83904597    nurse           2
    ## 35  patient17 67.4095281 78.905719   11.49619102    nurse           2
    ## 36  patient18 69.4630809        NA            NA    nurse           2
    ## 37   patient2  3.6216918  7.778048    4.15635660    nurse           3
    ## 38   patient0  1.1074405  9.103596    7.99615565    nurse           3
    ## 39   patient5  9.1988608 13.856642    4.65778149    nurse           3
    ## 40   patient6 11.2292280 15.532391    4.30316340    nurse           3
    ## 41   patient4  7.0291977 15.706894    8.67769633    nurse           3
    ## 42   patient1  2.6465923 18.899522   16.25292944    nurse           3
    ## 43   patient3  4.4103931 26.521464   22.11107101    nurse           3
    ## 44  patient10 26.2640414 29.710071    3.44602924    nurse           3
    ## 45   patient7 14.2901600 36.097664   21.80750410    nurse           3
    ## 46  patient11 28.7148914 37.588529    8.87363753    nurse           3
    ## 47  patient13 36.9223174 37.935767    1.01344913    nurse           3
    ## 48  patient14 40.6252657 43.563550    2.93828425    nurse           3
    ## 49   patient8 17.4790981 45.862788   28.38368993    nurse           3
    ## 50  patient12 33.0367580 46.722768   13.68600993    nurse           3
    ## 51  patient16 48.0345635 51.573749    3.53918543    nurse           3
    ## 52   patient9 20.6963003 55.077684   34.38138372    nurse           3
    ## 53  patient17 52.0600054 57.899084    5.83907897    nurse           3
    ## 54  patient18 57.2368914 63.784123    6.54723141    nurse           3
    ## 55  patient19 59.3787189 64.870327    5.49160773    nurse           3
    ## 56  patient20 64.6197296 65.345923    0.72619315    nurse           3
    ## 57  patient22 65.4966751 65.996605    0.49992956    nurse           3
    ## 58  patient15 45.4347805 67.408738   21.97395750    nurse           3
    ## 59  patient24 73.4922190 74.046560    0.55434084    nurse           3
    ## 60  patient25 73.6882633 74.773397    1.08513334    nurse           3
    ## 61  patient23 67.8398002 77.622853    9.78305276    nurse           3
    ## 62  patient27 79.6207942        NA            NA    nurse           3
    ## 63  patient26 77.3361491        NA            NA    nurse           3
    ## 64  patient21 64.8758588        NA            NA    nurse           3
    ## 65   patient2  7.2032167  9.114445    1.91122787    nurse           4
    ## 66   patient1  3.5224090 13.744651   10.22224215    nurse           4
    ## 67   patient0  1.4740760 15.200319   13.72624337    nurse           4
    ## 68   patient4 20.9627370 21.659724    0.69698678    nurse           4
    ## 69   patient7 26.1117168 26.185995    0.07427771    nurse           4
    ## 70   patient5 22.9487032 30.864012    7.91530890    nurse           4
    ## 71   patient8 26.2570338 39.689737   13.43270372    nurse           4
    ## 72   patient9 28.7970423 41.234871   12.43782834    nurse           4
    ## 73   patient6 24.5852168 44.438107   19.85289061    nurse           4
    ## 74   patient3 16.8207201 44.445058   27.62433769    nurse           4
    ## 75  patient11 42.2499033 44.587755    2.33785143    nurse           4
    ## 76  patient10 38.3104170 55.052297   16.74187972    nurse           4
    ## 77  patient12 67.0684532 70.621590    3.55313701    nurse           4
    ## 78  patient13 75.7119038 76.991565    1.27966130    nurse           4
    ## 79  patient14 76.0629818        NA            NA    nurse           4
    ## 80   patient0  4.4698791 12.653710    8.18383120    nurse           5
    ## 81   patient1 11.1040081 15.505019    4.40101068    nurse           5
    ## 82   patient2 11.4065063 16.242678    4.83617197    nurse           5
    ## 83   patient5 17.1389750 17.580162    0.44118721    nurse           5
    ## 84   patient4 12.9662886 18.418901    5.45261228    nurse           5
    ## 85   patient8 19.0477682 24.368605    5.32083695    nurse           5
    ## 86   patient3 12.3061158 24.979571   12.67345505    nurse           5
    ## 87   patient6 17.4668079 28.980284   11.51347658    nurse           5
    ## 88  patient10 25.6804708 32.450502    6.77003120    nurse           5
    ## 89   patient9 19.8473078 34.635372   14.78806432    nurse           5
    ## 90  patient12 27.0119071 39.458604   10.47831944    nurse           5
    ## 91   patient7 18.5873180 39.827124   21.23980586    nurse           5
    ## 92  patient13 34.9091138 40.071039    5.16192536    nurse           5
    ## 93  patient11 26.2850293 40.131574   13.84654432    nurse           5
    ## 94  patient18 43.3141662 43.615840    0.30167370    nurse           5
    ## 95  patient17 41.1391708 43.808639    2.66946812    nurse           5
    ## 96  patient19 44.5115990 45.359446    0.84784743    nurse           5
    ## 97  patient15 36.4629636 52.558134   13.09953051    nurse           5
    ## 98  patient20 48.2795674 52.851785    4.57221773    nurse           5
    ## 99  patient23 52.1145271 55.828371    2.97658572    nurse           5
    ## 100 patient22 51.9484228 58.961083    6.40294865    nurse           5
    ## 101 patient16 38.0752831 61.542600   21.71547584    nurse           5
    ## 102 patient14 35.4395440 61.726073   26.28652869    nurse           5
    ## 103 patient21 50.7139622 62.987437   12.27347499    nurse           5
    ## 104 patient24 72.9166942 78.916290    5.99959584    nurse           5
    ## 105  patient0  7.4141767 12.880594    5.46641711    nurse           6
    ## 106  patient2 11.0483559 17.098630    6.05027446    nurse           6
    ## 107  patient1  9.3554687 19.385666   10.03019705    nurse           6
    ## 108  patient4 18.1555002 19.684738    1.52923744    nurse           6
    ## 109  patient3 12.7503870 21.106163    8.35577546    nurse           6
    ## 110  patient7 31.0117127 32.400374    1.38866182    nurse           6
    ## 111  patient8 33.2638362 35.989343    2.72550722    nurse           6
    ## 112  patient5 22.2187792 36.531961   14.31318220    nurse           6
    ## 113  patient9 36.2807961 36.950181    0.66938518    nurse           6
    ## 114 patient12 45.1983662 45.557952    0.35958617    nurse           6
    ## 115 patient10 38.7528246 45.968808    7.21598332    nurse           6
    ## 116 patient11 40.6125052 50.431407    9.81890172    nurse           6
    ## 117  patient6 24.0948178 54.184723   30.08990497    nurse           6
    ## 118 patient14 65.1308618 68.107915    2.97705276    nurse           6
    ## 119 patient13 58.9102931 71.238920   12.32862657    nurse           6
    ## 120 patient16 71.0026963        NA            NA    nurse           6
    ## 121 patient15 69.5839931        NA            NA    nurse           6
    ## 122  patient0  3.4383507  5.013606    1.57525523    nurse           7
    ## 123  patient1 14.0863001 19.726527    5.64022729    nurse           7
    ## 124  patient4 25.4170674 29.216495    3.79942767    nurse           7
    ## 125  patient2 21.5207687 30.534370    9.01360130    nurse           7
    ## 126  patient5 29.9540628 30.569818    0.61575519    nurse           7
    ## 127  patient7 32.0653966 32.355332    0.28993562    nurse           7
    ## 128  patient9 33.5709843 33.738033    0.16704844    nurse           7
    ## 129  patient6 30.0286215 35.623641    5.59501992    nurse           7
    ## 130  patient3 24.8835589 36.717028   11.83346887    nurse           7
    ## 131 patient10 38.7055747 42.692479    3.98690395    nurse           7
    ## 132 patient12 41.6067864 42.938529    1.33174283    nurse           7
    ## 133  patient8 32.6647449 43.867963   11.20321784    nurse           7
    ## 134 patient11 41.2440783 45.782009    4.53793115    nurse           7
    ## 135 patient13 43.9704062 46.442119    2.47171289    nurse           7
    ## 136 patient15 48.4372011 48.728759    0.29155760    nurse           7
    ## 137 patient16 50.1958309 51.371217    1.17538643    nurse           7
    ## 138 patient17 63.2973253 64.203234    0.90590857    nurse           7
    ## 139 patient19 68.2437920 72.687237    4.44344543    nurse           7
    ## 140 patient20 71.1844364 74.308067    3.12363012    nurse           7
    ## 141 patient18 64.5214767 79.022074   14.50059689    nurse           7
    ## 142 patient22 78.4985589 79.931975    1.43341607    nurse           7
    ## 143 patient21 78.0718771        NA            NA    nurse           7
    ## 144 patient14 46.8038452        NA            NA    nurse           7
    ## 145  patient0  0.1155152  4.400858    4.28534238    nurse           8
    ## 146  patient2  6.1407706  8.427643    2.28687243    nurse           8
    ## 147  patient3  8.8750134 10.413825    1.53881171    nurse           8
    ## 148  patient1  2.9826685 15.536670   12.55400156    nurse           8
    ## 149  patient5 21.1524354 22.844788    1.69235213    nurse           8
    ## 150  patient4 15.4489748 23.458440    8.00946472    nurse           8
    ## 151  patient8 30.4007687 31.164892    0.76412334    nurse           8
    ## 152  patient9 30.6270614 31.735449    1.10838752    nurse           8
    ## 153 patient10 31.3916192 40.662680    9.27106042    nurse           8
    ## 154  patient6 23.1543902 47.462184   24.30779386    nurse           8
    ## 155 patient12 32.9061717 47.537356   14.63118398    nurse           8
    ## 156 patient15 54.2303732 56.084720    1.85434688    nurse           8
    ## 157  patient7 24.1925640 56.412388   32.21982385    nurse           8
    ## 158 patient11 32.2651242 56.460153   24.19502899    nurse           8
    ## 159 patient13 46.8603054 57.970109   11.10980402    nurse           8
    ## 160 patient16 55.8198460 58.427585    2.34286493    nurse           8
    ## 161 patient14 54.0104416 65.379855   11.36941295    nurse           8
    ## 162 patient17 70.0316348 78.996202    8.96456722    nurse           8
    ## 163 patient19 77.8911473        NA            NA    nurse           8
    ## 164 patient18 76.0072121        NA            NA    nurse           8
    ## 165  patient0 10.9487466 11.258125    0.30937890    nurse           9
    ## 166  patient3 17.3896973 19.214952    1.82525500    nurse           9
    ## 167  patient1 13.7904426 27.094897   13.30445426    nurse           9
    ## 168  patient2 16.4627051 31.038405   14.57570040    nurse           9
    ## 169  patient4 27.1108000 32.627444    5.51664420    nurse           9
    ## 170  patient8 34.9500737 35.782187    0.83211298    nurse           9
    ## 171  patient6 31.4057958 36.577986    5.17218993    nurse           9
    ## 172  patient5 31.1746162 37.630311    6.45569481    nurse           9
    ## 173  patient7 33.1502173 43.310410   10.16019318    nurse           9
    ## 174  patient9 52.5239496 54.507673    1.98372380    nurse           9
    ## 175 patient11 63.1987677 63.258020    0.05925177    nurse           9
    ## 176 patient10 61.4817267 67.027080    5.54535317    nurse           9
    ## 177 patient12 67.3832137 69.953226    2.57001221    nurse           9
    ## 178 patient15 71.4403279 74.139027    2.69869889    nurse           9
    ## 179 patient16 74.9069027 75.472800    0.56589693    nurse           9
    ## 180 patient17 79.9861282        NA            NA    nurse           9
    ## 181 patient14 68.9338427        NA            NA    nurse           9
    ## 182 patient13 68.7295698        NA            NA    nurse           9
    ## 183  patient0  7.6624052 10.194960    2.53255523    nurse          10
    ## 184  patient1  9.9962269 15.700919    5.70469250    nurse          10
    ## 185  patient2 10.2236099 17.430888    7.20727765    nurse          10
    ## 186  patient5 16.7562183 17.778123    1.02190480    nurse          10
    ## 187  patient4 15.5359922 21.971360    6.43536738    nurse          10
    ## 188  patient3 12.0938252 28.859970   16.76614526    nurse          10
    ## 189  patient9 41.4949189 41.666502    0.17158314    nurse          10
    ## 190  patient8 37.9822272 43.039429    5.05720188    nurse          10
    ## 191  patient7 35.7056767 43.660860    7.95518291    nurse          10
    ## 192 patient10 50.8558022 51.076609    0.22080680    nurse          10
    ## 193  patient6 23.5840499 58.058491   34.47444058    nurse          10
    ## 194 patient13 58.6400842 65.072523    6.43243857    nurse          10
    ## 195 patient12 56.8138665 66.075012    9.26114578    nurse          10
    ## 196 patient15 62.4193719 66.442414    4.02304242    nurse          10
    ## 197 patient14 58.9748388 70.495857   11.52101776    nurse          10
    ## 198 patient11 56.6986675 71.823787   15.12511996    nurse          10
    ## 199 patient16 69.6053558 72.193087    2.58773078    nurse          10
    ## 200 patient17 75.0130049        NA            NA    nurse          10
    ##     serve_start serve_length wait_time wait_time_unseen
    ## 1     7.9589394   1.38068695 0.0000000               NA
    ## 2    14.3769521   2.70594843 0.0000000               NA
    ## 3    22.4236472   1.85558001 0.0000000               NA
    ## 4    19.9660259  12.82297549 0.0000000               NA
    ## 5    28.8080981   4.11582266 0.0000000               NA
    ## 6    30.0481444   7.80944489 0.0000000               NA
    ## 7    37.7589958   2.54400845 0.0000000               NA
    ## 8    24.9211996  23.07756411 0.0000000               NA
    ## 9    55.7601991   0.28257500 0.0000000               NA
    ## 10   59.0457963   4.58549409 0.0000000               NA
    ## 11   60.4037578  16.96888456 0.0000000               NA
    ## 12   68.0726700   9.35557327 0.0000000               NA
    ## 13   76.1746621   1.26646216 0.0000000               NA
    ## 14   77.3726423   2.04116483 0.5050882               NA
    ## 15   79.1100925   7.13074573 0.0000000               NA
    ## 16   74.7111597   8.67212228 0.0000000               NA
    ## 17   60.2681638  23.12079420 0.0000000               NA
    ## 18    2.7503897   3.34031709 0.0000000               NA
    ## 19    7.0983074   1.39271872 0.0000000               NA
    ## 20   13.4133212   4.58589644 0.0000000               NA
    ## 21   14.2315794   4.19154066 0.0000000               NA
    ## 22   11.9945961  11.13403788 0.0000000               NA
    ## 23   22.2855224   3.33992567 0.0000000               NA
    ## 24   20.4457979   5.58599161 0.0000000               NA
    ## 25   15.4146091  12.31366553 0.0000000               NA
    ## 26   35.4358517   6.16520407 0.0000000               NA
    ## 27   39.5501295   8.14558237 0.0000000               NA
    ## 28   47.6957119   0.91145957 1.9197709               NA
    ## 29   18.0744530  30.79428401 0.0000000               NA
    ## 30   44.6771499   4.96348476 0.0000000               NA
    ## 31   55.9559766   0.37380675 0.0000000               NA
    ## 32   45.4516143  17.71914360 0.0000000               NA
    ## 33   61.9216498   4.52171424 0.0000000               NA
    ## 34   42.6616292  31.83904597 0.0000000               NA
    ## 35   67.4095281  11.49619102 0.0000000               NA
    ## 36   69.4630809  11.77299660 0.0000000               NA
    ## 37    3.6216918   4.15635660 0.0000000               NA
    ## 38    1.1074405   7.99615565 0.0000000               NA
    ## 39    9.1988608   4.65778149 0.0000000               NA
    ## 40   11.2292280   4.30316340 0.0000000               NA
    ## 41    7.0291977   8.67769633 0.0000000               NA
    ## 42    2.6465923  16.25292944 0.0000000               NA
    ## 43    4.4103931  22.11107101 0.0000000               NA
    ## 44   26.2640414   3.44602924 0.0000000               NA
    ## 45   14.2901600  21.80750410 0.0000000               NA
    ## 46   28.7148914   8.87363753 0.0000000               NA
    ## 47   36.9223174   1.01344913 0.0000000               NA
    ## 48   40.6252657   2.93828425 0.0000000               NA
    ## 49   17.4790981  28.38368993 0.0000000               NA
    ## 50   33.0367580  13.68600993 0.0000000               NA
    ## 51   48.0345635   3.53918543 0.0000000               NA
    ## 52   20.6963003  34.38138372 0.0000000               NA
    ## 53   52.0600054   5.83907897 0.0000000               NA
    ## 54   57.2368914   6.54723141 0.0000000               NA
    ## 55   59.3787189   5.49160773 0.0000000               NA
    ## 56   64.6197296   0.72619315 0.0000000               NA
    ## 57   65.4966751   0.49992956 0.0000000               NA
    ## 58   45.4347805  21.97395750 0.0000000               NA
    ## 59   73.4922190   0.55434084 0.0000000               NA
    ## 60   73.6882633   1.08513334 0.0000000               NA
    ## 61   67.8398002   9.78305276 0.0000000               NA
    ## 62   79.6207942   0.87616425 0.0000000               NA
    ## 63   77.3361491  28.69642743 0.0000000               NA
    ## 64   64.8758588  24.86586864 0.0000000               NA
    ## 65    7.2032167   1.91122787 0.0000000               NA
    ## 66    3.5224090  10.22224215 0.0000000               NA
    ## 67    1.4740760  13.72624337 0.0000000               NA
    ## 68   20.9627370   0.69698678 0.0000000               NA
    ## 69   26.1117168   0.07427771 0.0000000               NA
    ## 70   22.9487032   7.91530890 0.0000000               NA
    ## 71   26.2570338  13.43270372 0.0000000               NA
    ## 72   28.7970423  12.43782834 0.0000000               NA
    ## 73   24.5852168  19.85289061 0.0000000               NA
    ## 74   16.8207201  27.62433769 0.0000000               NA
    ## 75   42.2499033   2.33785143 0.0000000               NA
    ## 76   38.3104170  16.74187972 0.0000000               NA
    ## 77   67.0684532   3.55313701 0.0000000               NA
    ## 78   75.7119038   1.27966130 0.0000000               NA
    ## 79   76.0629818   6.02270903 0.0000000               NA
    ## 80    4.4698791   8.18383120 0.0000000               NA
    ## 81   11.1040081   4.40101068 0.0000000               NA
    ## 82   11.4065063   4.83617197 0.0000000               NA
    ## 83   17.1389750   0.44118721 0.0000000               NA
    ## 84   12.9662886   5.45261228 0.0000000               NA
    ## 85   19.0477682   5.32083695 0.0000000               NA
    ## 86   12.3061158  12.67345505 0.0000000               NA
    ## 87   17.4668079  11.51347658 0.0000000               NA
    ## 88   25.6804708   6.77003120 0.0000000               NA
    ## 89   19.8473078  14.78806432 0.0000000               NA
    ## 90   28.9802844  10.47831944 1.9683773               NA
    ## 91   18.5873180  21.23980586 0.0000000               NA
    ## 92   34.9091138   5.16192536 0.0000000               NA
    ## 93   26.2850293  13.84654432 0.0000000               NA
    ## 94   43.3141662   0.30167370 0.0000000               NA
    ## 95   41.1391708   2.66946812 0.0000000               NA
    ## 96   44.5115990   0.84784743 0.0000000               NA
    ## 97   39.4586039  13.09953051 2.9956403               NA
    ## 98   48.2795674   4.57221773 0.0000000               NA
    ## 99   52.8517851   2.97658572 0.7372580               NA
    ## 100  52.5581344   6.40294865 0.6097116               NA
    ## 101  39.8271238  21.71547584 1.7518408               NA
    ## 102  35.4395440  26.28652869 0.0000000               NA
    ## 103  50.7139622  12.27347499 0.0000000               NA
    ## 104  72.9166942   5.99959584 0.0000000               NA
    ## 105   7.4141767   5.46641711 0.0000000               NA
    ## 106  11.0483559   6.05027446 0.0000000               NA
    ## 107   9.3554687  10.03019705 0.0000000               NA
    ## 108  18.1555002   1.52923744 0.0000000               NA
    ## 109  12.7503870   8.35577546 0.0000000               NA
    ## 110  31.0117127   1.38866182 0.0000000               NA
    ## 111  33.2638362   2.72550722 0.0000000               NA
    ## 112  22.2187792  14.31318220 0.0000000               NA
    ## 113  36.2807961   0.66938518 0.0000000               NA
    ## 114  45.1983662   0.35958617 0.0000000               NA
    ## 115  38.7528246   7.21598332 0.0000000               NA
    ## 116  40.6125052   9.81890172 0.0000000               NA
    ## 117  24.0948178  30.08990497 0.0000000               NA
    ## 118  65.1308618   2.97705276 0.0000000               NA
    ## 119  58.9102931  12.32862657 0.0000000               NA
    ## 120  71.0026963  11.40766662 0.0000000               NA
    ## 121  69.5839931  15.35234324 0.0000000               NA
    ## 122   3.4383507   1.57525523 0.0000000               NA
    ## 123  14.0863001   5.64022729 0.0000000               NA
    ## 124  25.4170674   3.79942767 0.0000000               NA
    ## 125  21.5207687   9.01360130 0.0000000               NA
    ## 126  29.9540628   0.61575519 0.0000000               NA
    ## 127  32.0653966   0.28993562 0.0000000               NA
    ## 128  33.5709843   0.16704844 0.0000000               NA
    ## 129  30.0286215   5.59501992 0.0000000               NA
    ## 130  24.8835589  11.83346887 0.0000000               NA
    ## 131  38.7055747   3.98690395 0.0000000               NA
    ## 132  41.6067864   1.33174283 0.0000000               NA
    ## 133  32.6647449  11.20321784 0.0000000               NA
    ## 134  41.2440783   4.53793115 0.0000000               NA
    ## 135  43.9704062   2.47171289 0.0000000               NA
    ## 136  48.4372011   0.29155760 0.0000000               NA
    ## 137  50.1958309   1.17538643 0.0000000               NA
    ## 138  63.2973253   0.90590857 0.0000000               NA
    ## 139  68.2437920   4.44344543 0.0000000               NA
    ## 140  71.1844364   3.12363012 0.0000000               NA
    ## 141  64.5214767  14.50059689 0.0000000               NA
    ## 142  78.4985589   1.43341607 0.0000000               NA
    ## 143  78.0718771   3.58637056 0.0000000               NA
    ## 144  46.8038452  35.84979624 0.0000000               NA
    ## 145   0.1155152   4.28534238 0.0000000               NA
    ## 146   6.1407706   2.28687243 0.0000000               NA
    ## 147   8.8750134   1.53881171 0.0000000               NA
    ## 148   2.9826685  12.55400156 0.0000000               NA
    ## 149  21.1524354   1.69235213 0.0000000               NA
    ## 150  15.4489748   8.00946472 0.0000000               NA
    ## 151  30.4007687   0.76412334 0.0000000               NA
    ## 152  30.6270614   1.10838752 0.0000000               NA
    ## 153  31.3916192   9.27106042 0.0000000               NA
    ## 154  23.1543902  24.30779386 0.0000000               NA
    ## 155  32.9061717  14.63118398 0.0000000               NA
    ## 156  54.2303732   1.85434688 0.0000000               NA
    ## 157  24.1925640  32.21982385 0.0000000               NA
    ## 158  32.2651242  24.19502899 0.0000000               NA
    ## 159  46.8603054  11.10980402 0.0000000               NA
    ## 160  56.0847201   2.34286493 0.2648741               NA
    ## 161  54.0104416  11.36941295 0.0000000               NA
    ## 162  70.0316348   8.96456722 0.0000000               NA
    ## 163  77.8911473  16.26510278 0.0000000               NA
    ## 164  76.0072121   5.02302192 0.0000000               NA
    ## 165  10.9487466   0.30937890 0.0000000               NA
    ## 166  17.3896973   1.82525500 0.0000000               NA
    ## 167  13.7904426  13.30445426 0.0000000               NA
    ## 168  16.4627051  14.57570040 0.0000000               NA
    ## 169  27.1108000   5.51664420 0.0000000               NA
    ## 170  34.9500737   0.83211298 0.0000000               NA
    ## 171  31.4057958   5.17218993 0.0000000               NA
    ## 172  31.1746162   6.45569481 0.0000000               NA
    ## 173  33.1502173  10.16019318 0.0000000               NA
    ## 174  52.5239496   1.98372380 0.0000000               NA
    ## 175  63.1987677   0.05925177 0.0000000               NA
    ## 176  61.4817267   5.54535317 0.0000000               NA
    ## 177  67.3832137   2.57001221 0.0000000               NA
    ## 178  71.4403279   2.69869889 0.0000000               NA
    ## 179  74.9069027   0.56589693 0.0000000               NA
    ## 180  79.9861282   6.11818333 0.0000000               NA
    ## 181  68.9338427  11.21371483 0.0000000               NA
    ## 182  68.7295698  13.59804720 0.0000000               NA
    ## 183   7.6624052   2.53255523 0.0000000               NA
    ## 184   9.9962269   5.70469250 0.0000000               NA
    ## 185  10.2236099   7.20727765 0.0000000               NA
    ## 186  16.7562183   1.02190480 0.0000000               NA
    ## 187  15.5359922   6.43536738 0.0000000               NA
    ## 188  12.0938252  16.76614526 0.0000000               NA
    ## 189  41.4949189   0.17158314 0.0000000               NA
    ## 190  37.9822272   5.05720188 0.0000000               NA
    ## 191  35.7056767   7.95518291 0.0000000               NA
    ## 192  50.8558022   0.22080680 0.0000000               NA
    ## 193  23.5840499  34.47444058 0.0000000               NA
    ## 194  58.6400842   6.43243857 0.0000000               NA
    ## 195  56.8138665   9.26114578 0.0000000               NA
    ## 196  62.4193719   4.02304242 0.0000000               NA
    ## 197  58.9748388  11.52101776 0.0000000               NA
    ## 198  56.6986675  15.12511996 0.0000000               NA
    ## 199  69.6053558   2.58773078 0.0000000               NA
    ## 200  75.0130049   5.10685357 0.0000000               NA

``` r
write.csv(results[["arrivals"]],
          file.path(testdata_dir, "base_arrivals.csv"),
          row.names = FALSE)

# Resources
results[["resources"]]
```

    ##     resource       time server queue capacity queue_size system limit
    ## 1      nurse  7.9589394      1     0        5        Inf      1   Inf
    ## 2      nurse  9.3396263      0     0        5        Inf      0   Inf
    ## 3      nurse 14.3769521      1     0        5        Inf      1   Inf
    ## 4      nurse 17.0829005      0     0        5        Inf      0   Inf
    ## 5      nurse 19.9660259      1     0        5        Inf      1   Inf
    ## 6      nurse 22.4236472      2     0        5        Inf      2   Inf
    ## 7      nurse 24.2792272      1     0        5        Inf      1   Inf
    ## 8      nurse 24.9211996      2     0        5        Inf      2   Inf
    ## 9      nurse 28.8080981      3     0        5        Inf      3   Inf
    ## 10     nurse 30.0481444      4     0        5        Inf      4   Inf
    ## 11     nurse 32.7890014      3     0        5        Inf      3   Inf
    ## 12     nurse 32.9239207      2     0        5        Inf      2   Inf
    ## 13     nurse 37.7589958      3     0        5        Inf      3   Inf
    ## 14     nurse 37.8575893      2     0        5        Inf      2   Inf
    ## 15     nurse 40.3030043      1     0        5        Inf      1   Inf
    ## 16     nurse 47.9987637      0     0        5        Inf      0   Inf
    ## 17     nurse 55.7601991      1     0        5        Inf      1   Inf
    ## 18     nurse 56.0427741      0     0        5        Inf      0   Inf
    ## 19     nurse 59.0457963      1     0        5        Inf      1   Inf
    ## 20     nurse 60.2681638      2     0        5        Inf      2   Inf
    ## 21     nurse 60.4037578      3     0        5        Inf      3   Inf
    ## 22     nurse 63.6312904      2     0        5        Inf      2   Inf
    ## 23     nurse 68.0726700      3     0        5        Inf      3   Inf
    ## 24     nurse 74.7111597      4     0        5        Inf      4   Inf
    ## 25     nurse 76.1746621      5     0        5        Inf      5   Inf
    ## 26     nurse 76.8675542      5     1        5        Inf      6   Inf
    ## 27     nurse 77.3726423      5     0        5        Inf      5   Inf
    ## 28     nurse 77.4282432      4     0        5        Inf      4   Inf
    ## 29     nurse 77.4411243      3     0        5        Inf      3   Inf
    ## 30     nurse 79.1100925      4     0        5        Inf      4   Inf
    ## 31     nurse 79.4138072      3     0        5        Inf      3   Inf
    ## 32     nurse  2.7503897      1     0        5        Inf      1   Inf
    ## 33     nurse  6.0907068      0     0        5        Inf      0   Inf
    ## 34     nurse  7.0983074      1     0        5        Inf      1   Inf
    ## 35     nurse  8.4910261      0     0        5        Inf      0   Inf
    ## 36     nurse 11.9945961      1     0        5        Inf      1   Inf
    ## 37     nurse 13.4133212      2     0        5        Inf      2   Inf
    ## 38     nurse 14.2315794      3     0        5        Inf      3   Inf
    ## 39     nurse 15.4146091      4     0        5        Inf      4   Inf
    ## 40     nurse 17.9992176      3     0        5        Inf      3   Inf
    ## 41     nurse 18.0744530      4     0        5        Inf      4   Inf
    ## 42     nurse 18.4231200      3     0        5        Inf      3   Inf
    ## 43     nurse 20.4457979      4     0        5        Inf      4   Inf
    ## 44     nurse 22.2855224      5     0        5        Inf      5   Inf
    ## 45     nurse 23.1286340      4     0        5        Inf      4   Inf
    ## 46     nurse 25.6254480      3     0        5        Inf      3   Inf
    ## 47     nurse 26.0317895      2     0        5        Inf      2   Inf
    ## 48     nurse 27.7282747      1     0        5        Inf      1   Inf
    ## 49     nurse 35.4358517      2     0        5        Inf      2   Inf
    ## 50     nurse 39.5501295      3     0        5        Inf      3   Inf
    ## 51     nurse 41.6010558      2     0        5        Inf      2   Inf
    ## 52     nurse 42.6616292      3     0        5        Inf      3   Inf
    ## 53     nurse 44.6771499      4     0        5        Inf      4   Inf
    ## 54     nurse 45.4516143      5     0        5        Inf      5   Inf
    ## 55     nurse 45.7759410      5     1        5        Inf      6   Inf
    ## 56     nurse 47.6957119      5     0        5        Inf      5   Inf
    ## 57     nurse 48.6071714      4     0        5        Inf      4   Inf
    ## 58     nurse 48.8687371      3     0        5        Inf      3   Inf
    ## 59     nurse 49.6406347      2     0        5        Inf      2   Inf
    ## 60     nurse 55.9559766      3     0        5        Inf      3   Inf
    ## 61     nurse 56.3297833      2     0        5        Inf      2   Inf
    ## 62     nurse 61.9216498      3     0        5        Inf      3   Inf
    ## 63     nurse 63.1707579      2     0        5        Inf      2   Inf
    ## 64     nurse 66.4433640      1     0        5        Inf      1   Inf
    ## 65     nurse 67.4095281      2     0        5        Inf      2   Inf
    ## 66     nurse 69.4630809      3     0        5        Inf      3   Inf
    ## 67     nurse 74.5006752      2     0        5        Inf      2   Inf
    ## 68     nurse 78.9057192      1     0        5        Inf      1   Inf
    ## 69     nurse  1.1074405      1     0        5        Inf      1   Inf
    ## 70     nurse  2.6465923      2     0        5        Inf      2   Inf
    ## 71     nurse  3.6216918      3     0        5        Inf      3   Inf
    ## 72     nurse  4.4103931      4     0        5        Inf      4   Inf
    ## 73     nurse  7.0291977      5     0        5        Inf      5   Inf
    ## 74     nurse  7.7780484      4     0        5        Inf      4   Inf
    ## 75     nurse  9.1035962      3     0        5        Inf      3   Inf
    ## 76     nurse  9.1988608      4     0        5        Inf      4   Inf
    ## 77     nurse 11.2292280      5     0        5        Inf      5   Inf
    ## 78     nurse 13.8566423      4     0        5        Inf      4   Inf
    ## 79     nurse 14.2901600      5     0        5        Inf      5   Inf
    ## 80     nurse 15.5323914      4     0        5        Inf      4   Inf
    ## 81     nurse 15.7068940      3     0        5        Inf      3   Inf
    ## 82     nurse 17.4790981      4     0        5        Inf      4   Inf
    ## 83     nurse 18.8995217      3     0        5        Inf      3   Inf
    ## 84     nurse 20.6963003      4     0        5        Inf      4   Inf
    ## 85     nurse 26.2640414      5     0        5        Inf      5   Inf
    ## 86     nurse 26.5214642      4     0        5        Inf      4   Inf
    ## 87     nurse 28.7148914      5     0        5        Inf      5   Inf
    ## 88     nurse 29.7100706      4     0        5        Inf      4   Inf
    ## 89     nurse 33.0367580      5     0        5        Inf      5   Inf
    ## 90     nurse 36.0976641      4     0        5        Inf      4   Inf
    ## 91     nurse 36.9223174      5     0        5        Inf      5   Inf
    ## 92     nurse 37.5885289      4     0        5        Inf      4   Inf
    ## 93     nurse 37.9357665      3     0        5        Inf      3   Inf
    ## 94     nurse 40.6252657      4     0        5        Inf      4   Inf
    ## 95     nurse 43.5635500      3     0        5        Inf      3   Inf
    ## 96     nurse 45.4347805      4     0        5        Inf      4   Inf
    ## 97     nurse 45.8627880      3     0        5        Inf      3   Inf
    ## 98     nurse 46.7227679      2     0        5        Inf      2   Inf
    ## 99     nurse 48.0345635      3     0        5        Inf      3   Inf
    ## 100    nurse 51.5737489      2     0        5        Inf      2   Inf
    ## 101    nurse 52.0600054      3     0        5        Inf      3   Inf
    ## 102    nurse 55.0776840      2     0        5        Inf      2   Inf
    ## 103    nurse 57.2368914      3     0        5        Inf      3   Inf
    ## 104    nurse 57.8990843      2     0        5        Inf      2   Inf
    ## 105    nurse 59.3787189      3     0        5        Inf      3   Inf
    ## 106    nurse 63.7841228      2     0        5        Inf      2   Inf
    ## 107    nurse 64.6197296      3     0        5        Inf      3   Inf
    ## 108    nurse 64.8703266      2     0        5        Inf      2   Inf
    ## 109    nurse 64.8758588      3     0        5        Inf      3   Inf
    ## 110    nurse 65.3459227      2     0        5        Inf      2   Inf
    ## 111    nurse 65.4966751      3     0        5        Inf      3   Inf
    ## 112    nurse 65.9966047      2     0        5        Inf      2   Inf
    ## 113    nurse 67.4087380      1     0        5        Inf      1   Inf
    ## 114    nurse 67.8398002      2     0        5        Inf      2   Inf
    ## 115    nurse 73.4922190      3     0        5        Inf      3   Inf
    ## 116    nurse 73.6882633      4     0        5        Inf      4   Inf
    ## 117    nurse 74.0465599      3     0        5        Inf      3   Inf
    ## 118    nurse 74.7733967      2     0        5        Inf      2   Inf
    ## 119    nurse 77.3361491      3     0        5        Inf      3   Inf
    ## 120    nurse 77.6228529      2     0        5        Inf      2   Inf
    ## 121    nurse 79.6207942      3     0        5        Inf      3   Inf
    ## 122    nurse  1.4740760      1     0        5        Inf      1   Inf
    ## 123    nurse  3.5224090      2     0        5        Inf      2   Inf
    ## 124    nurse  7.2032167      3     0        5        Inf      3   Inf
    ## 125    nurse  9.1144445      2     0        5        Inf      2   Inf
    ## 126    nurse 13.7446511      1     0        5        Inf      1   Inf
    ## 127    nurse 15.2003194      0     0        5        Inf      0   Inf
    ## 128    nurse 16.8207201      1     0        5        Inf      1   Inf
    ## 129    nurse 20.9627370      2     0        5        Inf      2   Inf
    ## 130    nurse 21.6597238      1     0        5        Inf      1   Inf
    ## 131    nurse 22.9487032      2     0        5        Inf      2   Inf
    ## 132    nurse 24.5852168      3     0        5        Inf      3   Inf
    ## 133    nurse 26.1117168      4     0        5        Inf      4   Inf
    ## 134    nurse 26.1859945      3     0        5        Inf      3   Inf
    ## 135    nurse 26.2570338      4     0        5        Inf      4   Inf
    ## 136    nurse 28.7970423      5     0        5        Inf      5   Inf
    ## 137    nurse 30.8640121      4     0        5        Inf      4   Inf
    ## 138    nurse 38.3104170      5     0        5        Inf      5   Inf
    ## 139    nurse 39.6897375      4     0        5        Inf      4   Inf
    ## 140    nurse 41.2348707      3     0        5        Inf      3   Inf
    ## 141    nurse 42.2499033      4     0        5        Inf      4   Inf
    ## 142    nurse 44.4381074      3     0        5        Inf      3   Inf
    ## 143    nurse 44.4450578      2     0        5        Inf      2   Inf
    ## 144    nurse 44.5877547      1     0        5        Inf      1   Inf
    ## 145    nurse 55.0522967      0     0        5        Inf      0   Inf
    ## 146    nurse 67.0684532      1     0        5        Inf      1   Inf
    ## 147    nurse 70.6215902      0     0        5        Inf      0   Inf
    ## 148    nurse 75.7119038      1     0        5        Inf      1   Inf
    ## 149    nurse 76.0629818      2     0        5        Inf      2   Inf
    ## 150    nurse 76.9915651      1     0        5        Inf      1   Inf
    ## 151    nurse  4.4698791      1     0        5        Inf      1   Inf
    ## 152    nurse 11.1040081      2     0        5        Inf      2   Inf
    ## 153    nurse 11.4065063      3     0        5        Inf      3   Inf
    ## 154    nurse 12.3061158      4     0        5        Inf      4   Inf
    ## 155    nurse 12.6537103      3     0        5        Inf      3   Inf
    ## 156    nurse 12.9662886      4     0        5        Inf      4   Inf
    ## 157    nurse 15.5050187      3     0        5        Inf      3   Inf
    ## 158    nurse 16.2426783      2     0        5        Inf      2   Inf
    ## 159    nurse 17.1389750      3     0        5        Inf      3   Inf
    ## 160    nurse 17.4668079      4     0        5        Inf      4   Inf
    ## 161    nurse 17.5801622      3     0        5        Inf      3   Inf
    ## 162    nurse 18.4189009      2     0        5        Inf      2   Inf
    ## 163    nurse 18.5873180      3     0        5        Inf      3   Inf
    ## 164    nurse 19.0477682      4     0        5        Inf      4   Inf
    ## 165    nurse 19.8473078      5     0        5        Inf      5   Inf
    ## 166    nurse 24.3686052      4     0        5        Inf      4   Inf
    ## 167    nurse 24.9795708      3     0        5        Inf      3   Inf
    ## 168    nurse 25.6804708      4     0        5        Inf      4   Inf
    ## 169    nurse 26.2850293      5     0        5        Inf      5   Inf
    ## 170    nurse 27.0119071      5     1        5        Inf      6   Inf
    ## 171    nurse 28.9802844      5     0        5        Inf      5   Inf
    ## 172    nurse 32.4505020      4     0        5        Inf      4   Inf
    ## 173    nurse 34.6353721      3     0        5        Inf      3   Inf
    ## 174    nurse 34.9091138      4     0        5        Inf      4   Inf
    ## 175    nurse 35.4395440      5     0        5        Inf      5   Inf
    ## 176    nurse 36.4629636      5     1        5        Inf      6   Inf
    ## 177    nurse 38.0752831      5     2        5        Inf      7   Inf
    ## 178    nurse 39.4586039      5     1        5        Inf      6   Inf
    ## 179    nurse 39.8271238      5     0        5        Inf      5   Inf
    ## 180    nurse 40.0710391      4     0        5        Inf      4   Inf
    ## 181    nurse 40.1315737      3     0        5        Inf      3   Inf
    ## 182    nurse 41.1391708      4     0        5        Inf      4   Inf
    ## 183    nurse 43.3141662      5     0        5        Inf      5   Inf
    ## 184    nurse 43.6158399      4     0        5        Inf      4   Inf
    ## 185    nurse 43.8086389      3     0        5        Inf      3   Inf
    ## 186    nurse 44.5115990      4     0        5        Inf      4   Inf
    ## 187    nurse 45.3594464      3     0        5        Inf      3   Inf
    ## 188    nurse 48.2795674      4     0        5        Inf      4   Inf
    ## 189    nurse 50.7139622      5     0        5        Inf      5   Inf
    ## 190    nurse 51.9484228      5     1        5        Inf      6   Inf
    ## 191    nurse 52.1145271      5     2        5        Inf      7   Inf
    ## 192    nurse 52.5581344      5     1        5        Inf      6   Inf
    ## 193    nurse 52.8517851      5     0        5        Inf      5   Inf
    ## 194    nurse 55.8283709      4     0        5        Inf      4   Inf
    ## 195    nurse 58.9610830      3     0        5        Inf      3   Inf
    ## 196    nurse 61.5425997      2     0        5        Inf      2   Inf
    ## 197    nurse 61.7260727      1     0        5        Inf      1   Inf
    ## 198    nurse 62.9874372      0     0        5        Inf      0   Inf
    ## 199    nurse 72.9166942      1     0        5        Inf      1   Inf
    ## 200    nurse 78.9162901      0     0        5        Inf      0   Inf
    ## 201    nurse  7.4141767      1     0        5        Inf      1   Inf
    ## 202    nurse  9.3554687      2     0        5        Inf      2   Inf
    ## 203    nurse 11.0483559      3     0        5        Inf      3   Inf
    ## 204    nurse 12.7503870      4     0        5        Inf      4   Inf
    ## 205    nurse 12.8805938      3     0        5        Inf      3   Inf
    ## 206    nurse 17.0986304      2     0        5        Inf      2   Inf
    ## 207    nurse 18.1555002      3     0        5        Inf      3   Inf
    ## 208    nurse 19.3856658      2     0        5        Inf      2   Inf
    ## 209    nurse 19.6847376      1     0        5        Inf      1   Inf
    ## 210    nurse 21.1061625      0     0        5        Inf      0   Inf
    ## 211    nurse 22.2187792      1     0        5        Inf      1   Inf
    ## 212    nurse 24.0948178      2     0        5        Inf      2   Inf
    ## 213    nurse 31.0117127      3     0        5        Inf      3   Inf
    ## 214    nurse 32.4003745      2     0        5        Inf      2   Inf
    ## 215    nurse 33.2638362      3     0        5        Inf      3   Inf
    ## 216    nurse 35.9893434      2     0        5        Inf      2   Inf
    ## 217    nurse 36.2807961      3     0        5        Inf      3   Inf
    ## 218    nurse 36.5319614      2     0        5        Inf      2   Inf
    ## 219    nurse 36.9501813      1     0        5        Inf      1   Inf
    ## 220    nurse 38.7528246      2     0        5        Inf      2   Inf
    ## 221    nurse 40.6125052      3     0        5        Inf      3   Inf
    ## 222    nurse 45.1983662      4     0        5        Inf      4   Inf
    ## 223    nurse 45.5579524      3     0        5        Inf      3   Inf
    ## 224    nurse 45.9688079      2     0        5        Inf      2   Inf
    ## 225    nurse 50.4314069      1     0        5        Inf      1   Inf
    ## 226    nurse 54.1847228      0     0        5        Inf      0   Inf
    ## 227    nurse 58.9102931      1     0        5        Inf      1   Inf
    ## 228    nurse 65.1308618      2     0        5        Inf      2   Inf
    ## 229    nurse 68.1079146      1     0        5        Inf      1   Inf
    ## 230    nurse 69.5839931      2     0        5        Inf      2   Inf
    ## 231    nurse 71.0026963      3     0        5        Inf      3   Inf
    ## 232    nurse 71.2389196      2     0        5        Inf      2   Inf
    ## 233    nurse  3.4383507      1     0        5        Inf      1   Inf
    ## 234    nurse  5.0136059      0     0        5        Inf      0   Inf
    ## 235    nurse 14.0863001      1     0        5        Inf      1   Inf
    ## 236    nurse 19.7265274      0     0        5        Inf      0   Inf
    ## 237    nurse 21.5207687      1     0        5        Inf      1   Inf
    ## 238    nurse 24.8835589      2     0        5        Inf      2   Inf
    ## 239    nurse 25.4170674      3     0        5        Inf      3   Inf
    ## 240    nurse 29.2164951      2     0        5        Inf      2   Inf
    ## 241    nurse 29.9540628      3     0        5        Inf      3   Inf
    ## 242    nurse 30.0286215      4     0        5        Inf      4   Inf
    ## 243    nurse 30.5343700      3     0        5        Inf      3   Inf
    ## 244    nurse 30.5698180      2     0        5        Inf      2   Inf
    ## 245    nurse 32.0653966      3     0        5        Inf      3   Inf
    ## 246    nurse 32.3553322      2     0        5        Inf      2   Inf
    ## 247    nurse 32.6647449      3     0        5        Inf      3   Inf
    ## 248    nurse 33.5709843      4     0        5        Inf      4   Inf
    ## 249    nurse 33.7380328      3     0        5        Inf      3   Inf
    ## 250    nurse 35.6236414      2     0        5        Inf      2   Inf
    ## 251    nurse 36.7170278      1     0        5        Inf      1   Inf
    ## 252    nurse 38.7055747      2     0        5        Inf      2   Inf
    ## 253    nurse 41.2440783      3     0        5        Inf      3   Inf
    ## 254    nurse 41.6067864      4     0        5        Inf      4   Inf
    ## 255    nurse 42.6924786      3     0        5        Inf      3   Inf
    ## 256    nurse 42.9385292      2     0        5        Inf      2   Inf
    ## 257    nurse 43.8679628      1     0        5        Inf      1   Inf
    ## 258    nurse 43.9704062      2     0        5        Inf      2   Inf
    ## 259    nurse 45.7820095      1     0        5        Inf      1   Inf
    ## 260    nurse 46.4421191      0     0        5        Inf      0   Inf
    ## 261    nurse 46.8038452      1     0        5        Inf      1   Inf
    ## 262    nurse 48.4372011      2     0        5        Inf      2   Inf
    ## 263    nurse 48.7287587      1     0        5        Inf      1   Inf
    ## 264    nurse 50.1958309      2     0        5        Inf      2   Inf
    ## 265    nurse 51.3712174      1     0        5        Inf      1   Inf
    ## 266    nurse 63.2973253      2     0        5        Inf      2   Inf
    ## 267    nurse 64.2032339      1     0        5        Inf      1   Inf
    ## 268    nurse 64.5214767      2     0        5        Inf      2   Inf
    ## 269    nurse 68.2437920      3     0        5        Inf      3   Inf
    ## 270    nurse 71.1844364      4     0        5        Inf      4   Inf
    ## 271    nurse 72.6872375      3     0        5        Inf      3   Inf
    ## 272    nurse 74.3080665      2     0        5        Inf      2   Inf
    ## 273    nurse 78.0718771      3     0        5        Inf      3   Inf
    ## 274    nurse 78.4985589      4     0        5        Inf      4   Inf
    ## 275    nurse 79.0220736      3     0        5        Inf      3   Inf
    ## 276    nurse 79.9319750      2     0        5        Inf      2   Inf
    ## 277    nurse  0.1155152      1     0        5        Inf      1   Inf
    ## 278    nurse  2.9826685      2     0        5        Inf      2   Inf
    ## 279    nurse  4.4008575      1     0        5        Inf      1   Inf
    ## 280    nurse  6.1407706      2     0        5        Inf      2   Inf
    ## 281    nurse  8.4276431      1     0        5        Inf      1   Inf
    ## 282    nurse  8.8750134      2     0        5        Inf      2   Inf
    ## 283    nurse 10.4138251      1     0        5        Inf      1   Inf
    ## 284    nurse 15.4489748      2     0        5        Inf      2   Inf
    ## 285    nurse 15.5366700      1     0        5        Inf      1   Inf
    ## 286    nurse 21.1524354      2     0        5        Inf      2   Inf
    ## 287    nurse 22.8447875      1     0        5        Inf      1   Inf
    ## 288    nurse 23.1543902      2     0        5        Inf      2   Inf
    ## 289    nurse 23.4584395      1     0        5        Inf      1   Inf
    ## 290    nurse 24.1925640      2     0        5        Inf      2   Inf
    ## 291    nurse 30.4007687      3     0        5        Inf      3   Inf
    ## 292    nurse 30.6270614      4     0        5        Inf      4   Inf
    ## 293    nurse 31.1648920      3     0        5        Inf      3   Inf
    ## 294    nurse 31.3916192      4     0        5        Inf      4   Inf
    ## 295    nurse 31.7354489      3     0        5        Inf      3   Inf
    ## 296    nurse 32.2651242      4     0        5        Inf      4   Inf
    ## 297    nurse 32.9061717      5     0        5        Inf      5   Inf
    ## 298    nurse 40.6626797      4     0        5        Inf      4   Inf
    ## 299    nurse 46.8603054      5     0        5        Inf      5   Inf
    ## 300    nurse 47.4621841      4     0        5        Inf      4   Inf
    ## 301    nurse 47.5373557      3     0        5        Inf      3   Inf
    ## 302    nurse 54.0104416      4     0        5        Inf      4   Inf
    ## 303    nurse 54.2303732      5     0        5        Inf      5   Inf
    ## 304    nurse 55.8198460      5     1        5        Inf      6   Inf
    ## 305    nurse 56.0847201      5     0        5        Inf      5   Inf
    ## 306    nurse 56.4123879      4     0        5        Inf      4   Inf
    ## 307    nurse 56.4601532      3     0        5        Inf      3   Inf
    ## 308    nurse 57.9701095      2     0        5        Inf      2   Inf
    ## 309    nurse 58.4275850      1     0        5        Inf      1   Inf
    ## 310    nurse 65.3798545      0     0        5        Inf      0   Inf
    ## 311    nurse 70.0316348      1     0        5        Inf      1   Inf
    ## 312    nurse 76.0072121      2     0        5        Inf      2   Inf
    ## 313    nurse 77.8911473      3     0        5        Inf      3   Inf
    ## 314    nurse 78.9962020      2     0        5        Inf      2   Inf
    ## 315    nurse 10.9487466      1     0        5        Inf      1   Inf
    ## 316    nurse 11.2581255      0     0        5        Inf      0   Inf
    ## 317    nurse 13.7904426      1     0        5        Inf      1   Inf
    ## 318    nurse 16.4627051      2     0        5        Inf      2   Inf
    ## 319    nurse 17.3896973      3     0        5        Inf      3   Inf
    ## 320    nurse 19.2149523      2     0        5        Inf      2   Inf
    ## 321    nurse 27.0948968      1     0        5        Inf      1   Inf
    ## 322    nurse 27.1108000      2     0        5        Inf      2   Inf
    ## 323    nurse 31.0384055      1     0        5        Inf      1   Inf
    ## 324    nurse 31.1746162      2     0        5        Inf      2   Inf
    ## 325    nurse 31.4057958      3     0        5        Inf      3   Inf
    ## 326    nurse 32.6274442      2     0        5        Inf      2   Inf
    ## 327    nurse 33.1502173      3     0        5        Inf      3   Inf
    ## 328    nurse 34.9500737      4     0        5        Inf      4   Inf
    ## 329    nurse 35.7821867      3     0        5        Inf      3   Inf
    ## 330    nurse 36.5779857      2     0        5        Inf      2   Inf
    ## 331    nurse 37.6303110      1     0        5        Inf      1   Inf
    ## 332    nurse 43.3104105      0     0        5        Inf      0   Inf
    ## 333    nurse 52.5239496      1     0        5        Inf      1   Inf
    ## 334    nurse 54.5076734      0     0        5        Inf      0   Inf
    ## 335    nurse 61.4817267      1     0        5        Inf      1   Inf
    ## 336    nurse 63.1987677      2     0        5        Inf      2   Inf
    ## 337    nurse 63.2580195      1     0        5        Inf      1   Inf
    ## 338    nurse 67.0270799      0     0        5        Inf      0   Inf
    ## 339    nurse 67.3832137      1     0        5        Inf      1   Inf
    ## 340    nurse 68.7295698      2     0        5        Inf      2   Inf
    ## 341    nurse 68.9338427      3     0        5        Inf      3   Inf
    ## 342    nurse 69.9532259      2     0        5        Inf      2   Inf
    ## 343    nurse 71.4403279      3     0        5        Inf      3   Inf
    ## 344    nurse 74.1390268      2     0        5        Inf      2   Inf
    ## 345    nurse 74.9069027      3     0        5        Inf      3   Inf
    ## 346    nurse 75.4727996      2     0        5        Inf      2   Inf
    ## 347    nurse 79.9861282      3     0        5        Inf      3   Inf
    ## 348    nurse  7.6624052      1     0        5        Inf      1   Inf
    ## 349    nurse  9.9962269      2     0        5        Inf      2   Inf
    ## 350    nurse 10.1949604      1     0        5        Inf      1   Inf
    ## 351    nurse 10.2236099      2     0        5        Inf      2   Inf
    ## 352    nurse 12.0938252      3     0        5        Inf      3   Inf
    ## 353    nurse 15.5359922      4     0        5        Inf      4   Inf
    ## 354    nurse 15.7009194      3     0        5        Inf      3   Inf
    ## 355    nurse 16.7562183      4     0        5        Inf      4   Inf
    ## 356    nurse 17.4308876      3     0        5        Inf      3   Inf
    ## 357    nurse 17.7781231      2     0        5        Inf      2   Inf
    ## 358    nurse 21.9713596      1     0        5        Inf      1   Inf
    ## 359    nurse 23.5840499      2     0        5        Inf      2   Inf
    ## 360    nurse 28.8599705      1     0        5        Inf      1   Inf
    ## 361    nurse 35.7056767      2     0        5        Inf      2   Inf
    ## 362    nurse 37.9822272      3     0        5        Inf      3   Inf
    ## 363    nurse 41.4949189      4     0        5        Inf      4   Inf
    ## 364    nurse 41.6665020      3     0        5        Inf      3   Inf
    ## 365    nurse 43.0394291      2     0        5        Inf      2   Inf
    ## 366    nurse 43.6608596      1     0        5        Inf      1   Inf
    ## 367    nurse 50.8558022      2     0        5        Inf      2   Inf
    ## 368    nurse 51.0766090      1     0        5        Inf      1   Inf
    ## 369    nurse 56.6986675      2     0        5        Inf      2   Inf
    ## 370    nurse 56.8138665      3     0        5        Inf      3   Inf
    ## 371    nurse 58.0584905      2     0        5        Inf      2   Inf
    ## 372    nurse 58.6400842      3     0        5        Inf      3   Inf
    ## 373    nurse 58.9748388      4     0        5        Inf      4   Inf
    ## 374    nurse 62.4193719      5     0        5        Inf      5   Inf
    ## 375    nurse 65.0725228      4     0        5        Inf      4   Inf
    ## 376    nurse 66.0750122      3     0        5        Inf      3   Inf
    ## 377    nurse 66.4424144      2     0        5        Inf      2   Inf
    ## 378    nurse 69.6053558      3     0        5        Inf      3   Inf
    ## 379    nurse 70.4958565      2     0        5        Inf      2   Inf
    ## 380    nurse 71.8237875      1     0        5        Inf      1   Inf
    ## 381    nurse 72.1930866      0     0        5        Inf      0   Inf
    ## 382    nurse 75.0130049      1     0        5        Inf      1   Inf
    ##     replication
    ## 1             1
    ## 2             1
    ## 3             1
    ## 4             1
    ## 5             1
    ## 6             1
    ## 7             1
    ## 8             1
    ## 9             1
    ## 10            1
    ## 11            1
    ## 12            1
    ## 13            1
    ## 14            1
    ## 15            1
    ## 16            1
    ## 17            1
    ## 18            1
    ## 19            1
    ## 20            1
    ## 21            1
    ## 22            1
    ## 23            1
    ## 24            1
    ## 25            1
    ## 26            1
    ## 27            1
    ## 28            1
    ## 29            1
    ## 30            1
    ## 31            1
    ## 32            2
    ## 33            2
    ## 34            2
    ## 35            2
    ## 36            2
    ## 37            2
    ## 38            2
    ## 39            2
    ## 40            2
    ## 41            2
    ## 42            2
    ## 43            2
    ## 44            2
    ## 45            2
    ## 46            2
    ## 47            2
    ## 48            2
    ## 49            2
    ## 50            2
    ## 51            2
    ## 52            2
    ## 53            2
    ## 54            2
    ## 55            2
    ## 56            2
    ## 57            2
    ## 58            2
    ## 59            2
    ## 60            2
    ## 61            2
    ## 62            2
    ## 63            2
    ## 64            2
    ## 65            2
    ## 66            2
    ## 67            2
    ## 68            2
    ## 69            3
    ## 70            3
    ## 71            3
    ## 72            3
    ## 73            3
    ## 74            3
    ## 75            3
    ## 76            3
    ## 77            3
    ## 78            3
    ## 79            3
    ## 80            3
    ## 81            3
    ## 82            3
    ## 83            3
    ## 84            3
    ## 85            3
    ## 86            3
    ## 87            3
    ## 88            3
    ## 89            3
    ## 90            3
    ## 91            3
    ## 92            3
    ## 93            3
    ## 94            3
    ## 95            3
    ## 96            3
    ## 97            3
    ## 98            3
    ## 99            3
    ## 100           3
    ## 101           3
    ## 102           3
    ## 103           3
    ## 104           3
    ## 105           3
    ## 106           3
    ## 107           3
    ## 108           3
    ## 109           3
    ## 110           3
    ## 111           3
    ## 112           3
    ## 113           3
    ## 114           3
    ## 115           3
    ## 116           3
    ## 117           3
    ## 118           3
    ## 119           3
    ## 120           3
    ## 121           3
    ## 122           4
    ## 123           4
    ## 124           4
    ## 125           4
    ## 126           4
    ## 127           4
    ## 128           4
    ## 129           4
    ## 130           4
    ## 131           4
    ## 132           4
    ## 133           4
    ## 134           4
    ## 135           4
    ## 136           4
    ## 137           4
    ## 138           4
    ## 139           4
    ## 140           4
    ## 141           4
    ## 142           4
    ## 143           4
    ## 144           4
    ## 145           4
    ## 146           4
    ## 147           4
    ## 148           4
    ## 149           4
    ## 150           4
    ## 151           5
    ## 152           5
    ## 153           5
    ## 154           5
    ## 155           5
    ## 156           5
    ## 157           5
    ## 158           5
    ## 159           5
    ## 160           5
    ## 161           5
    ## 162           5
    ## 163           5
    ## 164           5
    ## 165           5
    ## 166           5
    ## 167           5
    ## 168           5
    ## 169           5
    ## 170           5
    ## 171           5
    ## 172           5
    ## 173           5
    ## 174           5
    ## 175           5
    ## 176           5
    ## 177           5
    ## 178           5
    ## 179           5
    ## 180           5
    ## 181           5
    ## 182           5
    ## 183           5
    ## 184           5
    ## 185           5
    ## 186           5
    ## 187           5
    ## 188           5
    ## 189           5
    ## 190           5
    ## 191           5
    ## 192           5
    ## 193           5
    ## 194           5
    ## 195           5
    ## 196           5
    ## 197           5
    ## 198           5
    ## 199           5
    ## 200           5
    ## 201           6
    ## 202           6
    ## 203           6
    ## 204           6
    ## 205           6
    ## 206           6
    ## 207           6
    ## 208           6
    ## 209           6
    ## 210           6
    ## 211           6
    ## 212           6
    ## 213           6
    ## 214           6
    ## 215           6
    ## 216           6
    ## 217           6
    ## 218           6
    ## 219           6
    ## 220           6
    ## 221           6
    ## 222           6
    ## 223           6
    ## 224           6
    ## 225           6
    ## 226           6
    ## 227           6
    ## 228           6
    ## 229           6
    ## 230           6
    ## 231           6
    ## 232           6
    ## 233           7
    ## 234           7
    ## 235           7
    ## 236           7
    ## 237           7
    ## 238           7
    ## 239           7
    ## 240           7
    ## 241           7
    ## 242           7
    ## 243           7
    ## 244           7
    ## 245           7
    ## 246           7
    ## 247           7
    ## 248           7
    ## 249           7
    ## 250           7
    ## 251           7
    ## 252           7
    ## 253           7
    ## 254           7
    ## 255           7
    ## 256           7
    ## 257           7
    ## 258           7
    ## 259           7
    ## 260           7
    ## 261           7
    ## 262           7
    ## 263           7
    ## 264           7
    ## 265           7
    ## 266           7
    ## 267           7
    ## 268           7
    ## 269           7
    ## 270           7
    ## 271           7
    ## 272           7
    ## 273           7
    ## 274           7
    ## 275           7
    ## 276           7
    ## 277           8
    ## 278           8
    ## 279           8
    ## 280           8
    ## 281           8
    ## 282           8
    ## 283           8
    ## 284           8
    ## 285           8
    ## 286           8
    ## 287           8
    ## 288           8
    ## 289           8
    ## 290           8
    ## 291           8
    ## 292           8
    ## 293           8
    ## 294           8
    ## 295           8
    ## 296           8
    ## 297           8
    ## 298           8
    ## 299           8
    ## 300           8
    ## 301           8
    ## 302           8
    ## 303           8
    ## 304           8
    ## 305           8
    ## 306           8
    ## 307           8
    ## 308           8
    ## 309           8
    ## 310           8
    ## 311           8
    ## 312           8
    ## 313           8
    ## 314           8
    ## 315           9
    ## 316           9
    ## 317           9
    ## 318           9
    ## 319           9
    ## 320           9
    ## 321           9
    ## 322           9
    ## 323           9
    ## 324           9
    ## 325           9
    ## 326           9
    ## 327           9
    ## 328           9
    ## 329           9
    ## 330           9
    ## 331           9
    ## 332           9
    ## 333           9
    ## 334           9
    ## 335           9
    ## 336           9
    ## 337           9
    ## 338           9
    ## 339           9
    ## 340           9
    ## 341           9
    ## 342           9
    ## 343           9
    ## 344           9
    ## 345           9
    ## 346           9
    ## 347           9
    ## 348          10
    ## 349          10
    ## 350          10
    ## 351          10
    ## 352          10
    ## 353          10
    ## 354          10
    ## 355          10
    ## 356          10
    ## 357          10
    ## 358          10
    ## 359          10
    ## 360          10
    ## 361          10
    ## 362          10
    ## 363          10
    ## 364          10
    ## 365          10
    ## 366          10
    ## 367          10
    ## 368          10
    ## 369          10
    ## 370          10
    ## 371          10
    ## 372          10
    ## 373          10
    ## 374          10
    ## 375          10
    ## 376          10
    ## 377          10
    ## 378          10
    ## 379          10
    ## 380          10
    ## 381          10
    ## 382          10

``` r
write.csv(results[["resources"]],
          file.path(testdata_dir, "base_resources.csv"),
          row.names = FALSE)

# Run results
results[["run_results"]]
```

    ## # A tibble: 10 Ã— 7
    ##    replication arrivals mean_waiting_time_nurse mean_serve_time_nurse
    ##          <int>    <int>                   <dbl>                 <dbl>
    ##  1           1       17                  0.0361                  6.49
    ##  2           2       19                  0.107                   9.05
    ##  3           3       28                  0                       9.55
    ##  4           4       15                  0                       9.41
    ##  5           5       25                  0.323                   8.89
    ##  6           6       17                  0                       7.55
    ##  7           7       23                  0                       4.19
    ##  8           8       20                  0.0147                  9.58
    ##  9           9       18                  0                       4.77
    ## 10          10       18                  0                       8.03
    ## # â„¹ 3 more variables: utilisation_nurse <dbl>, count_unseen_nurse <int>,
    ## #   mean_waiting_time_unseen_nurse <dbl>

``` r
write.csv(results[["run_results"]],
          file.path(testdata_dir, "base_run_results.csv"),
          row.names = FALSE)
```

## Model with a warm-up period

``` r
# Define model parameters
param <- parameters(
  patient_inter = 4L,
  mean_n_consult_time = 10L,
  number_of_nurses = 5L,
  warm_up_period = 40L,
  data_collection_period = 80L,
  number_of_runs = 10L,
  cores = 1L
)

# Run the replications
results <- runner(param)[["run_results"]]

# Preview
head(results)
```

    ## # A tibble: 6 Ã— 7
    ##   replication arrivals mean_waiting_time_nurse mean_serve_time_nurse
    ##         <int>    <int>                   <dbl>                 <dbl>
    ## 1           1       19                  0.0361                  6.85
    ## 2           2       15                  0.175                  10.6 
    ## 3           3       26                  0.103                   7.68
    ## 4           4       16                  0.0891                  9.36
    ## 5           5       20                  0.0842                  6.30
    ## 6           6       19                  0                       6.23
    ## # â„¹ 3 more variables: utilisation_nurse <dbl>, count_unseen_nurse <int>,
    ## #   mean_waiting_time_unseen_nurse <dbl>

``` r
# Save to csv
write.csv(results, file.path(testdata_dir, "warm_up_results.csv"),
          row.names = FALSE)
```

## Scenario analysis

``` r
# Define model parameters
param <- parameters(
  patient_inter = 4L,
  mean_n_consult_time = 10L,
  number_of_nurses = 5L,
  data_collection_period = 80L,
  number_of_runs = 3L,
  cores = 1L
)

# Run scenario analysis
scenarios <- list(
  patient_inter = c(3L, 4L),
  number_of_nurses = c(6L, 7L)
)
scenario_results <- run_scenarios(scenarios, base_list = param)
```

    ## There are 4 scenarios. Running:

    ## Scenario: patient_inter = 3, number_of_nurses = 6

    ## Scenario: patient_inter = 4, number_of_nurses = 6

    ## Scenario: patient_inter = 3, number_of_nurses = 7

    ## Scenario: patient_inter = 4, number_of_nurses = 7

``` r
# Preview
head(scenario_results)
```

    ## # A tibble: 6 Ã— 10
    ##   replication arrivals mean_waiting_time_nurse mean_serve_time_nurse
    ##         <int>    <int>                   <dbl>                 <dbl>
    ## 1           1       27                  0.0821                  8.38
    ## 2           2       29                  0.558                  10.5 
    ## 3           3       39                  0.0135                  9.62
    ## 4           1       17                  0                       6.83
    ## 5           2       21                  0.218                  11.2 
    ## 6           3       28                  0                       9.55
    ## # â„¹ 6 more variables: utilisation_nurse <dbl>, count_unseen_nurse <int>,
    ## #   mean_waiting_time_unseen_nurse <dbl>, scenario <int>, patient_inter <int>,
    ## #   number_of_nurses <int>

``` r
# Save to csv
write.csv(scenario_results, file.path(testdata_dir, "scenario_results.csv"),
          row.names = FALSE)
```

## Calculate run time

``` r
# Get run time in seconds
end_time <- Sys.time()
runtime <- as.numeric(end_time - start_time, units = "secs")

# Display converted to minutes and seconds
minutes <- as.integer(runtime / 60L)
seconds <- as.integer(runtime %% 60L)
cat(sprintf("Notebook run time: %dm %ds", minutes, seconds))
```

    ## Notebook run time: 0m 1s
